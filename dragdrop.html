<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Petualangan Huruf A‚ÄìZ</title>

<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: #e7f4f1;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-size: 50px;
        font-weight: bold;
        color: #333;
        margin-top: 50px;
    }

    .page {
        display: none;
    }

    .active {
        display: block;
    }

    #startBtn, #restartBtn, #nextBtn {
        padding: 18px 36px;
        background-color: #bcdff5;
        border: none;
        border-radius: 12px;
        font-size: 24px;
        cursor: pointer;
        margin-top: 30px;
        font-weight: bold;
        color: #333;
    }

    #startBtn:hover, #restartBtn:hover, #nextBtn:hover {
        background-color: #c8e9d6;
    }

    #letter {
        font-size: 180px;
        margin: 40px 0;
        color: #333;
        cursor: grab;
    }

    .target-box {
        width: 180px;
        height: 180px;
        margin: auto;
        background-color: #fff;
        border-radius: 18px;
        font-size: 150px;
        line-height: 180px;
        color: #333;
        border: 5px solid #bcdff5;
    }

    #feedbackCorrect {
        font-size: 48px;
        color: #4CAF50;
        font-weight: bold;
        margin-top: 40px;
    }

    #feedbackWrong {
        font-size: 42px;
        color: #FF6F6F;
        font-weight: bold;
        margin-top: 40px;
    }

    #scoreBox {
        font-size: 28px;
        font-weight: bold;
        margin-top: 20px;
        color: #333;
    }

    .stars {
        font-size: 100px;
        margin-top: 20px;
    }
</style>
</head>

<body>

<!-- ================= HALAMAN MULAI ================= -->
<div id="startPage" class="page active">
    <h1>Petualangan Huruf A‚ÄìZ</h1>
    <button id="startBtn">Mulai</button>
</div>

<!-- ================= HALAMAN GAME ================= -->
<div id="gamePage" class="page">
    <div id="scoreBox">Skor: 0</div>

    <div id="letter" draggable="true">A</div>

    <div class="target-box" id="targetBox">a</div>

    <div id="feedbackCorrect" style="display:none;">‚úî Benar! Hebat!</div>
    <div id="feedbackWrong" style="display:none;">‚úñ Salah, coba lagi!</div>

    <button id="nextBtn" style="display:none;">Lanjut</button>
</div>

<!-- ================ HALAMAN SELESAI ================= -->
<div id="finishPage" class="page">
    <h1>üéâ Permainan Selesai! üéâ</h1>
    <div class="stars">‚≠ê ‚≠ê ‚≠ê</div>
    <h2 id="finalScore"></h2>
    <button id="restartBtn">Main Lagi</button>
</div>

<script>
let currentIndex = 0;
let score = 0;
const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
const smallLetters = "abcdefghijklmnopqrstuvwxyz".split("");

// ELEMENTS
const startPage = document.getElementById("startPage");
const gamePage   = document.getElementById("gamePage");
const finishPage = document.getElementById("finishPage");

const letterEl = document.getElementById("letter");
const targetEl = document.getElementById("targetBox");
const scoreBox = document.getElementById("scoreBox");

const feedbackCorrect = document.getElementById("feedbackCorrect");
const feedbackWrong   = document.getElementById("feedbackWrong");
const nextBtn = document.getElementById("nextBtn");

document.getElementById("startBtn").onclick = () => {
    startPage.classList.remove("active");
    finishPage.classList.remove("active");
    gamePage.classList.add("active");
    loadLetter();
};

document.getElementById("restartBtn").onclick = () => {
    score = 0;
    currentIndex = 0;
    finishPage.classList.remove("active");
    gamePage.classList.add("active");
    loadLetter();
};

function loadLetter() {
    let big = letters[currentIndex];
    let small = smallLetters[currentIndex];
    
    letterEl.innerText = big;
    targetEl.innerText = small;

    feedbackCorrect.style.display = "none";
    feedbackWrong.style.display = "none";
    nextBtn.style.display = "none";

    scoreBox.innerText = "Skor: " + score;
}

// DRAG EVENTS
letterEl.addEventListener("dragstart", (e) => {
    e.dataTransfer.setData("text", letterEl.innerText);
});

targetEl.addEventListener("dragover", (e) => {
    e.preventDefault();
});

targetEl.addEventListener("drop", (e) => {
    const draggedLetter = e.dataTransfer.getData("text");
    const correctSmall = smallLetters[letters.indexOf(draggedLetter)];

    if (targetEl.innerText === correctSmall) {
        score++;
        feedbackCorrect.style.display = "block";
        nextBtn.style.display = "inline-block";

        if (score === 26) {
            gamePage.classList.remove("active");
            finishPage.classList.add("active");
            document.getElementById("finalScore").innerText = 
                "Skor Kamu: " + score + "/26";
        }
    } else {
        feedbackWrong.style.display = "block";
        setTimeout(() => {
            feedbackWrong.style.display = "none";
        }, 1200);
    }
});

nextBtn.onclick = () => {
    currentIndex++;
    if (currentIndex >= 26) currentIndex = 0;
    loadLetter();
};
</script>

</body>
</html>
