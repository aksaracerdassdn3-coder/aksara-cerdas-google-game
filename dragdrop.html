<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Petualangan Huruf A‚ÄìZ</title>

<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: #e7f4f1;
        margin: 0;
        padding: 0;
    }

    h1 {
        font-size: 50px;
        font-weight: bold;
        color: #333;
        margin-top: 40px;
    }

    .page { display: none; }
    .active { display: block; }

    #startBtn, #restartBtn, #nextBtn {
        padding: 18px 36px;
        background-color: #bcdff5;
        border: none;
        border-radius: 12px;
        font-size: 24px;
        cursor: pointer;
        margin-top: 30px;
        font-weight: bold;
        color: #333;
    }

    .choiceBox {
        width: 140px;
        height: 140px;
        background-color: #ffffff;
        border-radius: 16px;
        display: inline-block;
        vertical-align: top;
        margin: 20px;
        border: 5px solid #bcdff5;
        font-size: 100px;
        line-height: 140px;
        color: #333;
    }

    #letter {
        font-size: 180px;
        margin: 40px 0;
        color: #333;
        cursor: grab;
    }

    #feedbackCorrect {
        font-size: 48px;
        color: #4CAF50;
        margin-top: 30px;
        font-weight: bold;
        display: none;
    }

    #feedbackWrong {
        font-size: 42px;
        color: #FF6F6F;
        margin-top: 30px;
        font-weight: bold;
        display: none;
    }

    #scoreBox {
        font-size: 28px;
        font-weight: bold;
        margin-top: 20px;
        color: #333;
    }

    .stars {
        font-size: 100px;
        margin-top: 20px;
    }

</style>
</head>

<body>

<!-- ------------------- HALAMAN MULAI ------------------- -->
<div id="startPage" class="page active">
    <h1>Petualangan Huruf A‚ÄìZ</h1>
    <button id="startBtn">Mulai</button>
</div>

<!-- ------------------- HALAMAN GAME ------------------- -->
<div id="gamePage" class="page">

    <div id="scoreBox">Skor: 0</div>

    <div id="letter" draggable="true">A</div>

    <div id="choicesContainer">
        <div class="choiceBox" id="opt1"></div>
        <div class="choiceBox" id="opt2"></div>
        <div class="choiceBox" id="opt3"></div>
    </div>

    <div id="feedbackCorrect">‚úî Benar! Hebat!</div>
    <div id="feedbackWrong">‚úñ Salah, coba lagi!</div>

    <button id="nextBtn" style="display:none;">Lanjut</button>

</div>

<!-- ------------------- HALAMAN SELESAI ------------------- -->
<div id="finishPage" class="page">
    <h1>üéâ Permainan Selesai! üéâ</h1>
    <div class="stars">‚≠ê ‚≠ê ‚≠ê</div>
    <h2 id="finalScore"></h2>
    <button id="restartBtn">Main Lagi</button>
</div>

<script>
let currentIndex = 0;
let score = 0;

const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
const small =    "abcdefghijklmnopqrstuvwxyz".split("");

const startPage = document.getElementById("startPage");
const gamePage  = document.getElementById("gamePage");
const finishPage = document.getElementById("finishPage");

const letterEl = document.getElementById("letter");
const scoreBox = document.getElementById("scoreBox");

const opt1 = document.getElementById("opt1");
const opt2 = document.getElementById("opt2");
const opt3 = document.getElementById("opt3");

const feedbackCorrect = document.getElementById("feedbackCorrect");
const feedbackWrong   = document.getElementById("feedbackWrong");
const nextBtn         = document.getElementById("nextBtn");

document.getElementById("startBtn").onclick = () => {
    startPage.classList.remove("active");
    gamePage.classList.add("active");
    loadQuestion();
};

document.getElementById("restartBtn").onclick = () => {
    score = 0;
    currentIndex = 0;
    finishPage.classList.remove("active");
    gamePage.classList.add("active");
    loadQuestion();
};

function loadQuestion() {
    let big = letters[currentIndex];
    let correct = small[currentIndex];

    letterEl.innerText = big;

    scoreBox.innerText = "Skor: " + score;
    feedbackCorrect.style.display = "none";
    feedbackWrong.style.display = "none";
    nextBtn.style.display = "none";

    // Generate three choices
    let wrong1 = small[(currentIndex + 3) % 26];
    let wrong2 = small[(currentIndex + 7) % 26];

    let options = [correct, wrong1, wrong2];

    // Shuffle choices
    options.sort(() => Math.random() - 0.5);

    opt1.innerText = options[0];
    opt2.innerText = options[1];
    opt3.innerText = options[2];
}

// Make each choice draggable target
[opt1, opt2, opt3].forEach(box => {
    box.addEventListener("dragover", (e) => e.preventDefault());

    box.addEventListener("drop", (e) => {
        const dragged = letterEl.innerText;
        const correctSmall = small[letters.indexOf(dragged)];

        if (box.innerText === correctSmall) {
            score++;
            feedbackCorrect.style.display = "block";
            nextBtn.style.display = "inline-block";

            if (score === 26) {
                gamePage.classList.remove("active");
                finishPage.classList.add("active");
                document.getElementById("finalScore").innerText =
                    "Skor Kamu: 26/26";
            }
        } else {
            feedbackWrong.style.display = "block";
            setTimeout(() => feedbackWrong.style.display = "none", 1200);
        }
    });
});

nextBtn.onclick = () => {
    currentIndex++;
    if (currentIndex >= 26) currentIndex = 0;
    loadQuestion();
};

// Drag start
letterEl.addEventListener("dragstart", (e) => {
    e.dataTransfer.setData("text", letterEl.innerText);
});
</script>

</body>
</html>
